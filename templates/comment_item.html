<div class="comment-item bg-white rounded-lg p-4 border border-gray-100 fade-in" data-id="{{ comment.id }}">
    <div class="floor-number">#{{ comment.parent_id }}</div>

    <div class="flex items-start">
        <div class="flex-shrink-0">
            <img src="/static/avatar/{{ comment.author.profile_picture }}.webp"
                 alt="{{ comment.author.username }}"
                 class="w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover mr-3 border-2 border-white shadow-sm">
        </div>
        <div class="flex-1 min-w-0">
            {% if comment.parent_id %}
            <div class="reply-info">
                <i class="fas fa-reply mr-1"></i> 回复 <a href="#comment-{{ comment.parent_id }}" class="font-medium">#{{ comment.parent_id }}</a>
            </div>
            {% endif %}

            <div class="comment-header flex flex-wrap items-center mb-2">
                <span class="font-semibold text-gray-800 mr-2 truncate">
                    {{ comment.author.username }}
                </span>
                <span class="text-xs text-gray-500 whitespace-nowrap">
                    {{ comment.created_at|relative_time }}
                </span>
            </div>

            <div class="comment-body text-gray-700 mb-3 text-sm sm:text-base">
                {{ comment.content }}
            </div>

            <div class="comment-actions">
                <button class="reply-btn text-xs sm:text-sm text-blue-600 hover:text-blue-800 transition-colors flex items-center"
                        data-id="{{ comment.id }}"
                        data-username="{{ comment.author.username }}"
                        data-floor="{{ comment.parent_id }}">
                    <i class="fas fa-reply mr-1"></i> 回复
                </button>
            </div>
        </div>
    </div>
</div>